<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
    <title>ê°•í™”í•™ìŠµ ì²´í—˜í•˜ê¸°</title>
    <link href="../Styles/style.css" rel="stylesheet" type="text/css"/>
    <style>
        body {
            padding: 0;
            max-width: 80%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        h1 {
            max-width: 100%;
            margin: 20px auto 0 auto;
            box-sizing: border-box;
        }
        .intro-section {
            max-width: 100%;
            margin: 2px auto 30px auto;
            box-sizing: border-box;
            background-color: #f8f9fa;
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .learning-experience {
            max-width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .navigation-buttons {
            max-width: 100%;
            margin: 40px auto;
            display: flex;
            justify-content: space-between;
        }
        .maze-game {
            max-width: 100%;
            margin: 20px auto;
            padding: 20px;
            font-family: Arial, sans-serif;
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .maze-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2px;
            background-color: #ddd;
            padding: 2px;
            border-radius: 8px;
            max-width: 500px;
            width: 100%;
            aspect-ratio: 1;
        }

        .maze-cell {
            background-color: #fff;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: default;
            user-select: none;
            position: relative;
        }

        .maze-cell.wall {
            background-color: #666;
        }

        .maze-cell.robot {
            background-color: #4CAF50;
            color: white;
        }

        .maze-cell.cheese {
            background-color: #FFD700;
        }

        .maze-cell.robot::before {
            content: "ğŸ¤–";
            font-size: 1.5em;
        }

        .maze-cell.cheese::before {
            content: "ğŸ§€";
            font-size: 1.5em;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 500px;
        }

        .direction-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
            max-width: 150px;
            margin: 0 auto;
        }

        .direction-btn {
            padding: 15px;
            font-size: 20px;
            border: none;
            background-color: #007bff;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            user-select: none;
        }

        .direction-btn:hover {
            background-color: #0056b3;
        }

        .direction-btn:active {
            transform: scale(0.95);
        }

        .direction-btn.up { grid-column: 2; }
        .direction-btn.down { grid-column: 2; grid-row: 3; }
        .direction-btn.left { grid-column: 1; grid-row: 2; }
        .direction-btn.right { grid-column: 3; grid-row: 2; }

        .game-message {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            display: none;
            margin: 10px 0;
        }

        .game-message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .game-message.fail {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .reset-btn {
            padding: 10px 20px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: none;
        }

        .reset-btn:hover {
            background-color: #5a6268;
        }

        .game-instructions {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .game-instructions h3 {
            margin-top: 0;
            color: #333;
        }

        .game-instructions ul {
            margin: 0;
            padding-left: 20px;
        }

        .game-instructions li {
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .maze-game {
                padding: 10px;
            }

            .maze-grid {
                max-width: 100%;
            }

            .direction-btn {
                padding: 12px;
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            .maze-cell {
                font-size: 20px;
            }

            .direction-btn {
                padding: 10px;
                font-size: 16px;
            }
        }

        .question-examples {
            max-width: 100%;
            margin: 30px auto 20px auto;
            box-sizing: border-box;
            background-color: #e3f2fd;
            border-left: 6px solid #1976d2;
            padding: 18px 20px;
            border-radius: 8px;
        }
        .question-examples h2 {
            font-size: 1.15em;
            margin-top: 0;
            color: #1976d2;
        }
        .question-examples ul {
            margin: 0;
            padding-left: 18px;
        }
        .question-examples li {
            margin-bottom: 12px;
            font-size: 1em;
            line-height: 1.6;
        }
        .question-examples strong {
            color: #0d47a1;
        }
        .show-answer-btn {
            margin-top: 8px;
            padding: 4px 14px;
            font-size: 0.95em;
            background-color: #1976d2;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .show-answer-btn:active {
            background-color: #0d47a1;
        }
        .hidden-answer {
            margin-left: 8px;
            color: #333;
        }
        .answer-bold {
            font-weight: bold;
        }
        .learning-goals {
            background-color: #f5f5f5;
            border-left: 6px solid #1976d2;
            padding: 18px 20px;
            margin: 30px 0 20px 0;
            border-radius: 8px;
        }
        .learning-goals h2 {
            font-size: 1.15em;
            margin-top: 0;
            color: #1976d2;
        }
        .learning-goals ul {
            margin: 0;
            padding-left: 18px;
        }
        .learning-goals li {
            margin-bottom: 12px;
            font-size: 1em;
            line-height: 1.6;
        }
        .learning-tip {
            max-width: 100%;
            margin: 30px auto 20px auto;
            box-sizing: border-box;
            background-color: #e3f2fd;
            border-left: 6px solid #1976d2;
            padding: 18px 20px;
            border-radius: 8px;
        }
        .home-button {
            position: absolute;
            top: 20px;
            right: 10%;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            z-index: 1000;
        }
        .home-button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <a href="ai_learning2.xhtml" class="home-button">í™ˆìœ¼ë¡œ</a>
    <h1>ê°•í™”í•™ìŠµ ì²´í—˜í•˜ê¸°</h1>
    
    <section class="intro-section">
        <p class="intro-text">ì´ í˜ì´ì§€ì—ì„œëŠ” ê°•í™”í•™ìŠµì˜ ì›ë¦¬ë¥¼ ì§ì ‘ ì²´í—˜í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
        ë¡œë´‡ì´ ë¯¸ë¡œë¥¼ íƒìƒ‰í•˜ë©° ëª©í‘œ(ì¹˜ì¦ˆ)ì— ë„ë‹¬í•˜ëŠ” ê³¼ì •ì„ í†µí•´ ê°•í™”í•™ìŠµì˜ íŠ¹ì§•ì„ ì´í•´í•´ë³´ì„¸ìš”!</p>
    </section>

    <section class="learning-experience">
        <div class="learning-type reinforcement">
            <h2>ğŸŸ¦ ê°•í™”í•™ìŠµ (ë³´ìƒì„ í†µí•´ ë°°ì›Œìš”!)</h2>
            <p class="type-description">ê°•í™”í•™ìŠµì€ ë³´ìƒì„ í†µí•´ í•™ìŠµí•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. 
            AIê°€ í–‰ë™ì˜ ê²°ê³¼ë¡œ ì–»ëŠ” ë³´ìƒì„ ë°”íƒ•ìœ¼ë¡œ ìµœì ì˜ í–‰ë™ì„ ì°¾ì•„ê°‘ë‹ˆë‹¤.</p>

            <div class="activity-card">
                <h3>ğŸ¤– ë¯¸ë¡œ íƒˆì¶œí•˜ê¸°</h3>
                <div class="activity-content">
                    <div class="activity-description">
                        <h4>ğŸ¯ ì„¤ëª…</h4>
                        <p>ë¡œë´‡ì„ ì¡°ì‘í•˜ì—¬ ë¯¸ë¡œë¥¼ í†µê³¼í•´ ì¹˜ì¦ˆì— ë„ë‹¬í•´ë³´ì„¸ìš”.</p>
                        
                        <div class="game-instructions">
                            <h3>ê²Œì„ ë°©ë²•</h3>
                            <ul>
                                <li>ë°©í–¥ ë²„íŠ¼(â†‘ â†“ â† â†’)ì„ ì‚¬ìš©í•˜ì—¬ ë¡œë´‡ì„ ì›€ì§ì´ì„¸ìš”.</li>
                                <li>ëª¨ë°”ì¼ì—ì„œëŠ” í™”ë©´ì„ í„°ì¹˜í•˜ì—¬ ë¡œë´‡ì„ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                <li>ë²½ì— ë¶€ë”ªíˆë©´ ì‹¤íŒ¨í•˜ê³  ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.</li>
                                <li>ì¹˜ì¦ˆì— ë„ë‹¬í•˜ë©´ ì„±ê³µí•˜ê³  ë³´ìƒì„ ë°›ìŠµë‹ˆë‹¤!</li>
                            </ul>
                        </div>

                        <div class="maze-game">
                            <div class="game-container">
                                <div class="maze-grid" id="maze-grid">
                                    <!-- ë¯¸ë¡œ ê·¸ë¦¬ë“œëŠ” JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                                </div>

                                <div class="controls">
                                    <div class="direction-buttons">
                                        <button class="direction-btn up" data-direction="up">â†‘</button>
                                        <button class="direction-btn left" data-direction="left">â†</button>
                                        <button class="direction-btn right" data-direction="right">â†’</button>
                                        <button class="direction-btn down" data-direction="down">â†“</button>
                                    </div>
                                </div>

                                <div id="game-message" class="game-message"></div>
                                <button id="reset-btn" class="reset-btn">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="question-examples">
            <h2>ğŸ¯ ìƒê°í•´ë³¼ê¹Œìš”?</h2>
            <ul>
                <li>
                    <strong>"ì—¬ëŸ¬ë¶„, ì²˜ìŒì—” ì–´ë””ë¡œ ê°€ì•¼ í• ì§€ ëª°ëì§€ë§Œ, ëª‡ ë²ˆ í•˜ë‹¤ ë³´ë‹ˆ ê¸¸ì´ ë³´ì˜€ì£ ?"</strong><br />
                    <button id="show-answer-btn1" type="button" class="show-answer-btn">í´ë¦­í•´ë³´ì„¸ìš”</button>
                    <span id="hidden-answer1" class="hidden-answer answer-bold" style="display:none;">â†’ AIë„ ì²˜ìŒì—” ëª°ë¼ìš”. í•˜ì§€ë§Œ ë³´ìƒì„ ë°›ìœ¼ë©´ì„œ ë°°ì›Œìš”.</span>
                </li>
                <li>
                    <strong>"ì‹¤íŒ¨í–ˆì„ ë•Œ ë‹¤ì‹œ ì‹œë„í–ˆë‚˜ìš”?"</strong><br />
                    <button id="show-answer-btn2" type="button" class="show-answer-btn">í´ë¦­í•´ë³´ì„¸ìš”</button>
                    <span id="hidden-answer2" class="hidden-answer answer-bold" style="display:none;">â†’ ê·¸ê²Œ ë°”ë¡œ ê°•í™”í•™ìŠµì´ì—ìš”. ì‹¤íŒ¨ë¥¼ í†µí•´ í•™ìŠµí•´ìš”.</span>
                </li>
                <li>
                    <strong>"ì •ë‹µê¸¸ë¡œ ê°”ì„ ë•Œ ì–´ë–¤ ë©”ì‹œì§€ë¥¼ ë°›ì•˜ë‚˜ìš”?"</strong><br />
                    <button id="show-answer-btn3" type="button" class="show-answer-btn">í´ë¦­í•´ë³´ì„¸ìš”</button>
                    <span id="hidden-answer3" class="hidden-answer answer-bold" style="display:none;">â†’ AIë„ ì¢‹ì€ í–‰ë™ì„ í•˜ë©´ 'ë³´ìƒ'ì„ ë°›ëŠ” ê±°ì˜ˆìš”.</span>
                </li>
            </ul>
        </div>

        <section class="learning-tip">
            <h2>ğŸ“Œ TIP</h2>
            <div class="tip-content">
                <p>"ê°•í™”í•™ìŠµì€ ì‹œí–‰ì°©ì˜¤ë¥¼ í†µí•´ ìµœì ì˜ í–‰ë™ì„ ì°¾ì•„ê°€ëŠ” AIì˜ í•™ìŠµ ë°©ë²•ì´ì—ìš”!"</p>
                <ul>
                    <li>ë³´ìƒì„ í†µí•´ ì¢‹ì€ í–‰ë™ê³¼ ë‚˜ìœ í–‰ë™ì„ êµ¬ë¶„í•´ìš”.</li>
                    <li>ì‹¤íŒ¨ë¥¼ í†µí•´ ë” ë‚˜ì€ ë°©ë²•ì„ ì°¾ì•„ê°€ìš”.</li>
                    <li>ëª©í‘œì— ë„ë‹¬í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì„ ì‹œë„í•´ë³´ì„¸ìš”.</li>
                </ul>
            </div>
        </section>
    </section>

    <div class="navigation-buttons">
        <a href="ai_learning4.xhtml" style="display:inline-block; padding:12px 32px; background:#95a5a6; color:#fff; border-radius:6px; text-decoration:none; font-size:18px;"> &#8592;ì´ì „</a>
        <a href="ai_learning6.xhtml" style="display:inline-block; padding:12px 32px; background:#3498db; color:#fff; border-radius:6px; text-decoration:none; font-size:18px;">ë‹¤ìŒ &#8594;</a>
    </div>

    <script>
        //<![CDATA[
        document.addEventListener('DOMContentLoaded', function() {
            // ì˜¤ë””ì˜¤ ìš”ì†Œ ìƒì„±
            const sounds = {
                success: new Audio('../Audio/Sounds/perfect.wav'),
                fail: new Audio('../Audio/Sounds/error.wav')
            };

            // ì˜¤ë””ì˜¤ ë³¼ë¥¨ ì„¤ì •
            sounds.success.volume = 0.7;
            sounds.fail.volume = 0.7;

            // ì˜¤ë””ì˜¤ ë¡œë“œ í™•ì¸
            sounds.success.addEventListener('error', (e) => {
                console.error('Success sound failed to load:', e);
            });
            sounds.fail.addEventListener('error', (e) => {
                console.error('Fail sound failed to load:', e);
            });

            // ë¯¸ë¡œ í¬ê¸° ì„¤ì •
            const GRID_SIZE = 5;
            
            // ë¯¸ë¡œ ë§µ ì •ì˜ (0: ì´ë™ ê°€ëŠ¥, 1: ë²½, 2: ì‹œì‘ì , 3: ë„ì°©ì )
            const mazeMap = [
                [0, 1, 1, 0, 3],
                [0, 1, 0, 0, 0],
                [2, 0, 0, 1, 0],
                [0, 0, 1, 0, 0],
                [0, 0, 0, 0, 0]
            ];

            let robotPosition = { x: 0, y: 2 }; // ë¡œë´‡ì˜ ì´ˆê¸° ìœ„ì¹˜ (2,0)
            let gameActive = true;

            // ë¯¸ë¡œ ê·¸ë¦¬ë“œ ìƒì„±
            function createMazeGrid() {
                const grid = document.getElementById('maze-grid');
                grid.innerHTML = '';

                for (let y = 0; y < GRID_SIZE; y++) {
                    for (let x = 0; x < GRID_SIZE; x++) {
                        const cell = document.createElement('div');
                        cell.className = 'maze-cell';
                        
                        if (mazeMap[y][x] === 1) {
                            cell.classList.add('wall');
                        } else if (mazeMap[y][x] === 3) {
                            cell.classList.add('cheese');
                        }
                        
                        grid.appendChild(cell);
                    }
                }
                updateRobotPosition();
            }

            // ë¡œë´‡ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
            function updateRobotPosition() {
                const cells = document.querySelectorAll('.maze-cell');
                cells.forEach(cell => cell.classList.remove('robot'));

                const index = robotPosition.y * GRID_SIZE + robotPosition.x;
                cells[index].classList.add('robot');
            }

            // ê²Œì„ ë©”ì‹œì§€ í‘œì‹œ
            function showMessage(message, isSuccess) {
                const messageElement = document.getElementById('game-message');
                messageElement.textContent = message;
                messageElement.className = `game-message ${isSuccess ? 'success' : 'fail'}`;
                document.getElementById('reset-btn').style.display = 'block';
            }

            // íš¨ê³¼ìŒ ì¬ìƒ
            function playSound(soundType) {
                const sound = sounds[soundType];
                if (sound) {
                    sound.currentTime = 0;
                    sound.play().catch(error => console.error('Sound playback failed:', error));
                }
            }

            // ë¡œë´‡ ì´ë™ ì²˜ë¦¬
            function moveRobot(direction) {
                if (!gameActive) return;

                let newX = robotPosition.x;
                let newY = robotPosition.y;

                switch (direction) {
                    case 'up': newY--; break;
                    case 'down': newY++; break;
                    case 'left': newX--; break;
                    case 'right': newX++; break;
                }

                // ì´ë™ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
                if (newX < 0 || newX >= GRID_SIZE || newY < 0 || newY >= GRID_SIZE || mazeMap[newY][newX] === 1) {
                    showMessage('ì‹¤íŒ¨! ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.', false);
                    playSound('fail');
                    gameActive = false;
                    return;
                }

                // ë¡œë´‡ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
                robotPosition.x = newX;
                robotPosition.y = newY;
                updateRobotPosition();

                // ë„ì°©ì  í™•ì¸
                if (mazeMap[newY][newX] === 3) {
                    showMessage('ì„±ê³µ! ë³´ìƒ íšë“!', true);
                    playSound('success');
                    gameActive = false;
                }
            }

            // ê²Œì„ ì´ˆê¸°í™”
            function resetGame() {
                robotPosition = { x: 0, y: 2 };
                gameActive = true;
                document.getElementById('game-message').className = 'game-message';
                document.getElementById('reset-btn').style.display = 'none';
                createMazeGrid();
            }

            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
            document.querySelectorAll('.direction-btn').forEach(button => {
                button.addEventListener('click', () => moveRobot(button.dataset.direction));
            });

            // í‚¤ë³´ë“œ ì´ë²¤íŠ¸
            document.addEventListener('keydown', (e) => {
                if (!gameActive) return;
                
                switch (e.key) {
                    case 'ArrowUp': moveRobot('up'); break;
                    case 'ArrowDown': moveRobot('down'); break;
                    case 'ArrowLeft': moveRobot('left'); break;
                    case 'ArrowRight': moveRobot('right'); break;
                }
            });

            // í„°ì¹˜ ì´ë²¤íŠ¸
            let touchStartX = 0;
            let touchStartY = 0;

            document.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
            }, { passive: true });

            document.addEventListener('touchend', (e) => {
                if (!gameActive) return;

                const touchEndX = e.changedTouches[0].clientX;
                const touchEndY = e.changedTouches[0].clientY;

                const diffX = touchEndX - touchStartX;
                const diffY = touchEndY - touchStartY;

                if (Math.abs(diffX) > Math.abs(diffY)) {
                    moveRobot(diffX > 0 ? 'right' : 'left');
                } else {
                    moveRobot(diffY > 0 ? 'down' : 'up');
                }
            });

            // ë¦¬ì…‹ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('reset-btn').addEventListener('click', resetGame);

            // ê²Œì„ ì´ˆê¸°í™”
            resetGame();

            // ë‹µë³€ ë³´ê¸° ë²„íŠ¼ ê¸°ëŠ¥
            for (var i = 1; i <= 3; i++) {
                var showBtn = document.getElementById('show-answer-btn' + i);
                var answer = document.getElementById('hidden-answer' + i);
                if (showBtn && answer) {
                    showBtn.addEventListener('click', (function(btn, ans) {
                        return function() {
                            btn.style.display = 'none';
                            ans.style.display = 'inline';
                        };
                    })(showBtn, answer));
                }
            }
        });
        //]]>
    </script>
</body>
</html> 