<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
    <title>ì¸ê³µì§€ëŠ¥ì˜ í•™ìŠµ ë°©ì‹ í€´ì¦ˆ</title>
    <link href="../Styles/style.css" rel="stylesheet" type="text/css"/>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f9f9f9;
        }
        .quiz-container {
            max-width: 80vw;
            margin: 30px auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 30px 20px 40px 20px;
            position: relative;
        }
        h1 {
            text-align: center;
            color: #1976d2;
        }
        .quiz-section {
            margin-bottom: 32px;
        }
        .quiz-section h2 {
            color: #1976d2;
            font-size: 1.2em;
            margin-bottom: 12px;
        }
        .question {
            margin-bottom: 24px;
            padding: 18px 16px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        .question-text {
            font-size: 1.08em;
            margin-bottom: 12px;
        }
        .ox-btns {
            display: flex;
            gap: 18px;
            margin-bottom: 10px;
        }
        .ox-btn {
            flex: 1 1 0;
            padding: 12px 0;
            font-size: 1.1em;
            border: none;
            border-radius: 6px;
            background: #e3f2fd;
            color: #1976d2;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s, color 0.2s;
        }
        .ox-btn.selected {
            background: #1976d2;
            color: #fff;
        }
        .ox-feedback {
            margin-top: 8px;
            font-size: 1em;
            font-weight: bold;
        }
        .ox-feedback.correct {
            color: #388e3c;
        }
        .ox-feedback.incorrect {
            color: #d32f2f;
        }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 10px;
        }
        .choice-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1em;
            cursor: pointer;
        }
        .choice-input {
            width: 18px;
            height: 18px;
        }
        .submit-btn {
            margin-top: 10px;
            padding: 8px 22px;
            background: #1976d2;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
        }
        .submit-btn:active {
            background: #0d47a1;
        }
        .mc-feedback {
            margin-top: 8px;
            font-size: 1em;
            font-weight: bold;
        }
        .mc-feedback.correct {
            color: #388e3c;
        }
        .mc-feedback.incorrect {
            color: #d32f2f;
        }
        @media (max-width: 600px) {
            .quiz-container {
                max-width: 90vw;
                padding: 10px 2vw 20px 2vw;
            }
            .question {
                padding: 12px 6px;
            }
        }
        .music-control {
            position: fixed;
            top: 20px;
            right: calc(10% + 20px);
            z-index: 1000;
        }
        .music-btn {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .music-btn:hover {
            background-color: #45a049;
        }
        .music-btn.playing {
            background-color: #f44336;
        }
        .music-btn.playing:hover {
            background-color: #da190b;
        }
        .music-notification {
            position: fixed;
            top: 70px;
            right: calc(10% + 20px);
            background-color: #fff3cd;
            color: #856404;
            padding: 10px 20px;
            border-radius: 4px;
            border: 1px solid #ffeeba;
            font-size: 14px;
            display: none;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        #quiz-success-img {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            display: none;
            text-align: center;
            pointer-events: none;
        }
        #quiz-success-img img {
            max-width: 320px;
            width: 80vw;
            height: auto;
            display: inline-block;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        #close-btn {
            position: fixed;
            bottom: 20px;
            right: calc(10% + 20px);
            padding: 12px 24px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            display: none;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: background-color 0.2s;
        }
        #close-btn:hover {
            background-color: #d32f2f;
        }
        .video-container {
            max-width: 80%;
            margin: 0 auto 20px auto;
            text-align: center;
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1 style="text-align:center; color:#1976d2; margin-bottom: 24px;">ì¸ê³µì§€ëŠ¥ì˜ í•™ìŠµ ìƒì‹ í€´ì¦ˆ</h1>
        <div style="text-align:center; margin-bottom: 24px;">
            <div style="font-size:1.3em; color:#1976d2; font-weight:bold; margin-bottom:8px;">ğŸ“š AI í•™ìŠµ ë¹„ë°€ì„ ë§ˆìŠ¤í„°í–ˆë‚˜ìš”?</div>
            <div style="font-size:1.05em; color:#333;">ì§€ê¸ˆë¶€í„° í€´ì¦ˆë¥¼ í†µí•´ ì§„ì§œ AI ë„ì „ìê°€ ë˜ì–´ë³´ì„¸ìš”!</div>
        </div>

        <div class="quiz-section">
            <div class="question" data-q="1">
                <div class="question-text">â‘  ì§€ë„í•™ìŠµì€ ì •ë‹µì´ ì—†ëŠ” ë°ì´í„°ë¥¼ ê°€ì§€ê³  AIê°€ ìŠ¤ìŠ¤ë¡œ í•™ìŠµí•˜ëŠ” ë°©ë²•ì´ë‹¤.</div>
                <div class="ox-btns">
                    <button class="ox-btn" data-value="O">O</button>
                    <button class="ox-btn" data-value="X">X</button>
                </div>
                <div class="ox-feedback" style="display:none;"></div>
                <div class="ox-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">í•´ì„¤: ì§€ë„í•™ìŠµì€ ì •ë‹µ(label)ì´ ìˆëŠ” ë°ì´í„°ë¥¼ ë³´ê³  í•™ìŠµí•˜ëŠ” ë°©ì‹ì´ì—ìš”.</div>
            </div>
            <div class="question" data-q="2">
                <div class="question-text">â‘¡ ë¹„ì§€ë„í•™ìŠµì—ì„œëŠ” ì •ë‹µì´ ì—†ì–´ë„ ë¹„ìŠ·í•œ ê²ƒë¼ë¦¬ AIê°€ ìŠ¤ìŠ¤ë¡œ ë¬¶ì„ ìˆ˜ ìˆë‹¤.</div>
                <div class="ox-btns">
                    <button class="ox-btn" data-value="O">O</button>
                    <button class="ox-btn" data-value="X">X</button>
                </div>
                <div class="ox-feedback" style="display:none;"></div>
                <div class="ox-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">í•´ì„¤: ë¹„ì§€ë„í•™ìŠµì€ ì •ë‹µ ì—†ì´ ë¹„ìŠ·í•œ ê²ƒë¼ë¦¬ AIê°€ ìŠ¤ìŠ¤ë¡œ ê·¸ë£¹ì„ ë§Œë“­ë‹ˆë‹¤.</div>
            </div>
            <div class="question" data-q="3">
                <div class="question-text">â‘¢ ê°•í™”í•™ìŠµì€ ë³´ìƒì´ë‚˜ ì‹¤íŒ¨ë¥¼ ë°˜ë³µí•˜ë©´ì„œ AIê°€ ë” ë‚˜ì€ í–‰ë™ì„ ë°°ì›Œê°€ëŠ” ë°©ë²•ì´ë‹¤.</div>
                <div class="ox-btns">
                    <button class="ox-btn" data-value="O">O</button>
                    <button class="ox-btn" data-value="X">X</button>
                </div>
                <div class="ox-feedback" style="display:none;"></div>
                <div class="ox-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">í•´ì„¤: ê°•í™”í•™ìŠµì€ ë³´ìƒê³¼ ì‹¤íŒ¨ë¥¼ ë°˜ë³µí•˜ë©° ë” ë‚˜ì€ í–‰ë™ì„ ë°°ìš°ëŠ” ë°©ì‹ì´ì—ìš”.</div>
            </div>
        </div>
        <div class="quiz-section">
            <form id="mc-quiz-form">
                <div class="question" data-q="4">
                    <div class="question-text">â‘£ ë‹¤ìŒ ì¤‘ ì§€ë„í•™ìŠµì˜ ì˜ˆì‹œë¡œ ê°€ì¥ ì•Œë§ì€ ê²ƒì€?</div>
                    <div class="choices">
                        <label class="choice-label"><input class="choice-input" type="radio" name="q4" value="1" />ì‹ ë°œì„ ë¹„ìŠ·í•œ ëª¨ì–‘ë¼ë¦¬ ë¬¶ëŠ” ê²ƒ</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q4" value="2" />ê³¼ì¼ ê·¸ë¦¼ì„ ë³´ê³  ì´ë¦„ì„ ë§íˆëŠ” ê²ƒ</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q4" value="3" />ë¡œë´‡ì´ ë¯¸ë¡œë¥¼ ë¹ ì ¸ë‚˜ê°€ë©´ì„œ ë³´ìƒì„ ë°›ëŠ” ê²ƒ</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q4" value="4" />AIê°€ ìŠ¤ìŠ¤ë¡œ ìˆ«ì íŒ¨í„´ì„ ì°¾ì•„ë‚´ëŠ” ê²ƒ</label>
                    </div>
                    <div class="mc-feedback" style="display:none;"></div>
                    <div class="mc-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">ì •ë‹µ: ê³¼ì¼ ê·¸ë¦¼ì„ ë³´ê³  ì´ë¦„ì„ ë§íˆëŠ” ê²ƒì´ ì§€ë„í•™ìŠµì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œì…ë‹ˆë‹¤.</div>
                </div>
                <div class="question" data-q="5">
                    <div class="question-text">â‘¤ ê°•í™”í•™ìŠµì— í•´ë‹¹í•˜ëŠ” í™œë™ì€ ë¬´ì—‡ì¸ê°€ìš”?</div>
                    <div class="choices">
                        <label class="choice-label"><input class="choice-input" type="radio" name="q5" value="1" />ê³¼ì¼ ë¶„ë¥˜ ì¹´ë“œ ê²Œì„</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q5" value="2" />ì‹ ë°œì„ ìš©ë„ë³„ë¡œ ë‚˜ëˆ„ê¸°</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q5" value="3" />ë¡œë´‡ì´ ë¯¸ë¡œë¥¼ ë¹ ì ¸ë‚˜ê°€ëŠ” ê²Œì„</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q5" value="4" />ê°™ì€ ìƒ‰ê¹” ìŠ¤í‹°ì»¤ë¥¼ ë¶„ë¥˜í•˜ëŠ” í™œë™</label>
                    </div>
                    <div class="mc-feedback" style="display:none;"></div>
                    <div class="mc-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">ì •ë‹µ: ë¡œë´‡ì´ ë¯¸ë¡œë¥¼ ë¹ ì ¸ë‚˜ê°€ëŠ” ê²Œì„ì´ ê°•í™”í•™ìŠµì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.</div>
                </div>
                <div class="question" data-q="6">
                    <div class="question-text">â‘¥ ë¹„ì§€ë„í•™ìŠµì˜ íŠ¹ì§•ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ê²ƒì€?</div>
                    <div class="choices">
                        <label class="choice-label"><input class="choice-input" type="radio" name="q6" value="1" />AIê°€ ì •ë‹µì„ ë³´ê³  ë°°ìš´ë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q6" value="2" />AIê°€ ì •ë‹µ ì—†ì´ ìŠ¤ìŠ¤ë¡œ ë¹„ìŠ·í•œ ê±¸ ë¬¶ëŠ”ë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q6" value="3" />AIê°€ ë³´ìƒì„ ë°›ìœ¼ë©° ë°°ìš°ëŠ” ë°©ì‹ì´ë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q6" value="4" />ì‚¬ëŒì˜ ê°ì •ì„ ì¸ì‹í•˜ëŠ” ê¸°ìˆ ì´ë‹¤</label>
                    </div>
                    <div class="mc-feedback" style="display:none;"></div>
                    <div class="mc-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">ì •ë‹µ: AIê°€ ì •ë‹µ ì—†ì´ ìŠ¤ìŠ¤ë¡œ ë¹„ìŠ·í•œ ê±¸ ë¬¶ëŠ” ê²ƒì´ ë¹„ì§€ë„í•™ìŠµì˜ íŠ¹ì§•ì…ë‹ˆë‹¤.</div>
                </div>
                <div class="question" data-q="7">
                    <div class="question-text">â‘¦ ë”¥ëŸ¬ë‹ì—ì„œ 'ì…ë ¥ì¸µ'ì€ ì–´ë–¤ ì—­í• ì„ í•˜ë‚˜ìš”?</div>
                    <div class="choices">
                        <label class="choice-label"><input class="choice-input" type="radio" name="q7" value="1" />ì´ë¯¸ì§€ë¥¼ ì²˜ìŒ ë°›ì•„ë“¤ì´ëŠ” ë‹¨ê³„</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q7" value="2" />íŒë‹¨ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ë‹¨ê³„</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q7" value="3" />ì‚¬ëŒì˜ ì§€ì‹œ ì—†ì´ ìŠ¤ìŠ¤ë¡œ ë¶„ë¥˜í•˜ëŠ” ë‹¨ê³„</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q7" value="4" />ë³´ìƒê³¼ ì‹¤íŒ¨ë¥¼ í†µí•´ í•™ìŠµí•˜ëŠ” ë‹¨ê³„</label>
                    </div>
                    <div class="mc-feedback" style="display:none;"></div>
                    <div class="mc-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">ì •ë‹µ: ì…ë ¥ì¸µì€ ì´ë¯¸ì§€ë‚˜ ë°ì´í„°ë¥¼ ì²˜ìŒ ë°›ì•„ë“¤ì´ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.</div>
                </div>
                <div class="question" data-q="8">
                    <div class="question-text">â‘§ ì€ë‹‰ì¸µì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ë¡œ ê°€ì¥ ì•Œë§ì€ ê²ƒì€?</div>
                    <div class="choices">
                        <label class="choice-label"><input class="choice-input" type="radio" name="q8" value="1" />ë°”ë¡œ ì •ë‹µì„ ì¶œë ¥í•œë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q8" value="2" />ê²°ê³¼ì— ë”°ë¼ ì ìˆ˜ë¥¼ ì¤€ë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q8" value="3" />ì´ë¯¸ì§€ì˜ íŠ¹ì§•ì„ ë¶„ì„í•˜ê³  í•™ìŠµí•œë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q8" value="4" />ì‚¬ëŒì´ ì •í•´ì¤€ ê·œì¹™ë§Œ ë”°ë¼ê°„ë‹¤</label>
                    </div>
                    <div class="mc-feedback" style="display:none;"></div>
                    <div class="mc-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">ì •ë‹µ: ì€ë‹‰ì¸µì€ ì´ë¯¸ì§€ì˜ íŠ¹ì§•ì„ ë¶„ì„í•˜ê³  í•™ìŠµí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</div>
                </div>
                <div class="question" data-q="9">
                    <div class="question-text">â‘¨ ë‹¤ìŒ ì¤‘ ë”¥ëŸ¬ë‹ì˜ 'ì¶œë ¥ì¸µ'ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?</div>
                    <div class="choices">
                        <label class="choice-label"><input class="choice-input" type="radio" name="q9" value="1" />ì´ë¯¸ì§€ ì† í”½ì…€ì„ ì €ì¥í•œë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q9" value="2" />AIê°€ ë¶„ì„í•œ ê²°ê³¼ë¥¼ ìµœì¢… íŒë‹¨ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q9" value="3" />ë°ì´í„°ë¼ë¦¬ ë¹„ìŠ·í•œ ê²ƒë¼ë¦¬ ë¬¶ëŠ”ë‹¤</label>
                        <label class="choice-label"><input class="choice-input" type="radio" name="q9" value="4" />ì…ë ¥ê°’ì„ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•œë‹¤</label>
                    </div>
                    <div class="mc-feedback" style="display:none;"></div>
                    <div class="mc-explanation" style="display:none; font-size:0.97em; color:#555; margin-top:4px;">ì •ë‹µ: ì¶œë ¥ì¸µì€ AIê°€ ë¶„ì„í•œ ê²°ê³¼ë¥¼ ìµœì¢… íŒë‹¨ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</div>
                </div>
            </form>
        </div>
    </div>
    <div id="quiz-success-img">
        <img src="../Images/quiz_sucess1.png" alt="í€´ì¦ˆ ì„±ê³µ" />
    </div>
    <div id="reset-btn-container" style="width:100%;">
        <button id="reset-quiz-btn" style="display:none; margin: 24px auto 0 auto; padding: 10px 28px; background:#1976d2; color:#fff; border:none; border-radius:6px; font-size:1.1em; cursor:pointer;">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
    </div>
    <button id="close-btn">ì¢…ë£Œí•˜ê¸°</button>
    <!-- ìŒì•… ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ë° ì•Œë¦¼ -->
    <div class="music-control">
        <button id="music-toggle" class="music-btn">
            ğŸµ ë°°ê²½ìŒì•… ì¬ìƒ
        </button>
    </div>
    <div id="music-notification" class="music-notification">
        ë°°ê²½ìŒì•…ì´ ìë™ìœ¼ë¡œ ì¬ìƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¬ìƒ ë²„íŠ¼ì„ í´ë¦­í•´ì£¼ì„¸ìš”.
    </div>
    <script>
    //<![CDATA[
    document.addEventListener('DOMContentLoaded', function() {
        // ì„±ê³µ íš¨ê³¼ìŒ
        var successAudio = new Audio('../Audio/Sounds/perfect.wav');
        successAudio.volume = 0.7;
        var successAudioPlaying = false;

        // ë°°ê²½ìŒì•…
        var bgMusic = new Audio('../Audio/Sounds/bg.wav');
        bgMusic.loop = true;
        bgMusic.volume = 0.5;
        var isMusicPlaying = false;
        var musicBtn = document.getElementById('music-toggle');
        var musicNotification = document.getElementById('music-notification');
        var isFirstClick = true;

        // í˜ì´ì§€ ì „ì²´ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.addEventListener('click', function() {
            if (isFirstClick) {
                playBackgroundMusic();
                isFirstClick = false;
            }
        });

        var oxAnswers = ['X', 'O', 'O'];
        var oxFeedbacks = [
            ['ì˜¤ë‹µì…ë‹ˆë‹¤.', 'ì •ë‹µì…ë‹ˆë‹¤!'],
            ['ì˜¤ë‹µì…ë‹ˆë‹¤.', 'ì •ë‹µì…ë‹ˆë‹¤!'],
            ['ì˜¤ë‹µì…ë‹ˆë‹¤.', 'ì •ë‹µì…ë‹ˆë‹¤!']
        ];
        var oxQuestions = document.querySelectorAll('.quiz-section .question[data-q]');
        var oxUserAnswers = [null, null, null];

        function checkAllCorrect() {
            // OX ì •ë‹µ ì²´í¬
            for (var i = 0; i < 3; i++) {
                if (oxUserAnswers[i] !== oxAnswers[i]) return false;
            }
            // 4ì§€ì„ ë‹¤ ì •ë‹µ ì²´í¬
            for (var i = 0; i < 6; i++) {
                if (mcUserAnswers[i] !== mcAnswers[i]) return false;
            }
            return true;
        }

        var closeBtn = document.getElementById('close-btn');

        // ì¢…ë£Œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
        closeBtn.addEventListener('click', function() {
            window.close();
            // window.close()ê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ë©”ì‹œì§€ í‘œì‹œ
            if (!window.closed) {
                alert('ë¸Œë¼ìš°ì € ì„¤ì •ì— ë”°ë¼ ì°½ì´ ë‹«íˆì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§ì ‘ ì°½ì„ ë‹«ì•„ì£¼ì„¸ìš”.');
            }
        });

        function showSuccess() {
            playSuccessSoundAndPauseMusic();
            var btn = document.getElementById('reset-quiz-btn');
            btn.style.display = 'none';
            var container = document.getElementById('reset-btn-container');
            container.style.textAlign = 'center';
            var img = document.getElementById('quiz-success-img');
            if (img) {
                var question2 = document.querySelector('.question[data-q="2"]');
                if (question2) {
                    var rect = question2.getBoundingClientRect();
                    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    img.style.top = (rect.top + scrollTop + rect.height/2) + 'px';
                    img.style.display = 'block';
                }
            }
            // ì¢…ë£Œ ë²„íŠ¼ í‘œì‹œ
            closeBtn.style.display = 'block';
        }

        function hideSuccess() {
            // íš¨ê³¼ìŒ ì¤‘ë‹¨
            successAudio.pause();
            successAudio.currentTime = 0;
            successAudioPlaying = false;
            // ì„±ê³µ ì´ë¯¸ì§€ ìˆ¨ê¹€
            var btn = document.getElementById('reset-quiz-btn');
            var container = document.getElementById('reset-btn-container');
            btn.style.display = 'none';
            container.style.textAlign = 'left';
            var img = document.getElementById('quiz-success-img');
            if (img) img.style.display = 'none';
            // ì¢…ë£Œ ë²„íŠ¼ ìˆ¨ê¹€
            closeBtn.style.display = 'none';
            // ë°°ê²½ìŒì•…ì´ ë©ˆì¶°ìˆìœ¼ë©´ ë‹¤ì‹œ ì¬ìƒ
            if (!isMusicPlaying) playBackgroundMusic();
        }

        function updateResetButton() {
            var btn = document.getElementById('reset-quiz-btn');
            var container = document.getElementById('reset-btn-container');
            if (checkAllCorrect()) {
                btn.style.display = 'none';
                container.style.textAlign = 'center';
            } else {
                btn.style.display = 'block';
                container.style.textAlign = 'left';
            }
        }

        oxQuestions.forEach(function(qBox, idx) {
            var btns = qBox.querySelectorAll('.ox-btn');
            var feedback = qBox.querySelector('.ox-feedback');
            var explanation = qBox.querySelector('.ox-explanation');
            btns.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    btns.forEach(function(b) { b.classList.remove('selected'); });
                    btn.classList.add('selected');
                    var userAns = btn.getAttribute('data-value');
                    oxUserAnswers[idx] = userAns;
                    var isCorrect = (userAns === oxAnswers[idx]);
                    feedback.textContent = isCorrect ? oxFeedbacks[idx][1] : oxFeedbacks[idx][0];
                    feedback.className = 'ox-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                    feedback.style.display = 'block';
                    explanation.style.display = 'block';
                    
                    if (checkAllCorrect()) {
                        showSuccess();
                    } else {
                        updateResetButton();
                    }
                });
            });
        });

        // 4ì§€ì„ ë‹¤í˜• í€´ì¦ˆ ì •ë‹µ
        var mcAnswers = ['2', '3', '2', '1', '3', '2'];
        var mcQuestions = document.querySelectorAll('#mc-quiz-form .question[data-q]');
        var mcUserAnswers = [null, null, null, null, null, null];
        mcQuestions.forEach(function(qBox, idx) {
            var radios = qBox.querySelectorAll('input[type="radio"]');
            var feedback = qBox.querySelector('.mc-feedback');
            var explanation = qBox.querySelector('.mc-explanation');
            radios.forEach(function(radio) {
                radio.addEventListener('change', function() {
                    mcUserAnswers[idx] = radio.value;
                    var isCorrect = (radio.value === mcAnswers[idx]);
                    if (isCorrect) {
                        feedback.textContent = 'ì •ë‹µì…ë‹ˆë‹¤!';
                        feedback.className = 'mc-feedback correct';
                        feedback.style.display = 'block';
                        explanation.style.display = 'block';
                    } else {
                        feedback.textContent = 'ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”';
                        feedback.className = 'mc-feedback incorrect';
                        feedback.style.display = 'block';
                        explanation.style.display = 'none';
                    }
                    if (checkAllCorrect()) {
                        showSuccess();
                    } else {
                        updateResetButton();
                    }
                });
            });
        });

        // ë‹¤ì‹œ ë„ì „í•˜ê¸° ë²„íŠ¼
        var resetBtn = document.getElementById('reset-quiz-btn');
        resetBtn.addEventListener('click', function() {
            // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
            window.location.reload();
        });

        // í˜ì´ì§€ ë¡œë“œì‹œ ë²„íŠ¼ ìƒíƒœ ì´ˆê¸°í™”
        updateResetButton();

        // ë°°ê²½ìŒì•… ì¬ìƒ í•¨ìˆ˜
        async function playBackgroundMusic() {
            try {
                await bgMusic.play();
                isMusicPlaying = true;
                musicBtn.classList.add('playing');
                musicBtn.innerHTML = 'â¸ï¸ ë°°ê²½ìŒì•… ì •ì§€';
                musicNotification.style.display = 'none';
            } catch (error) {
                isMusicPlaying = false;
                musicBtn.classList.remove('playing');
                musicBtn.innerHTML = 'ğŸµ ë°°ê²½ìŒì•… ì¬ìƒ';
                musicNotification.style.display = 'block';
            }
        }

        // ë°°ê²½ìŒì•… ì¼ì‹œì •ì§€ í•¨ìˆ˜
        function pauseBackgroundMusic() {
            bgMusic.pause();
            isMusicPlaying = false;
            musicBtn.classList.remove('playing');
            musicBtn.innerHTML = 'ğŸµ ë°°ê²½ìŒì•… ì¬ìƒ';
        }

        // ì„±ê³µ íš¨ê³¼ìŒ ì¬ìƒ í•¨ìˆ˜ (ë°°ê²½ìŒì•… ì¼ì‹œì •ì§€, íš¨ê³¼ìŒ ëë‚˜ë©´ ë°°ê²½ìŒì•… ì¬ìƒ)
        function playSuccessSoundAndPauseMusic() {
            // íš¨ê³¼ìŒ ì¤‘ë³µ ì¬ìƒ ë°©ì§€
            if (successAudioPlaying) return;
            successAudioPlaying = true;
            // ë°°ê²½ìŒì•… ì¼ì‹œì •ì§€
            if (isMusicPlaying) pauseBackgroundMusic();
            // íš¨ê³¼ìŒ ì¬ìƒ ì¤€ë¹„
            successAudio.pause();
            successAudio.currentTime = 0;
            successAudio.play().catch(function(e){});
            // ended ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¤‘ë³µ ë°©ì§€ ìœ„í•´ ë¨¼ì € ì œê±° í›„ ë“±ë¡
            successAudio.onended = function() {
                successAudioPlaying = false;
                playBackgroundMusic();
            };
        }

        // ìŒì•… ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        musicBtn.addEventListener('click', function() {
            if (isMusicPlaying) {
                pauseBackgroundMusic();
            } else {
                playBackgroundMusic();
            }
        });
    });
    //]]>
    </script>
</body>
</html> 