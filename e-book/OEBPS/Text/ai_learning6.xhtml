<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
    <title>ë”¥ëŸ¬ë‹ ë°°ì›Œë³´ê¸°</title>
    <link href="../Styles/style.css" rel="stylesheet" type="text/css"/>
    <style>
        body {
            padding: 0;
            max-width: 80%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        h1 {
            max-width: 100%;
            margin: 20px auto 0 auto;
            box-sizing: border-box;
        }
        /* .intro-section ìŠ¤íƒ€ì¼ (íšŒìƒ‰ ë°°ê²½ ìœ ì§€) */
        .intro-section {
            max-width: 100%;
            margin: 2px auto 30px auto;
            box-sizing: border-box;
            background-color: #f8f9fa;
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .learning-experience {
            max-width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .navigation-buttons {
            max-width: 100%;
            margin: 40px auto;
        }
        /* .neural-network-gameì€ .learning-experienceì˜ ìì‹ ìš”ì†Œ */
        .neural-network-game {
            max-width: 100%;
            margin: 20px auto;
            padding: 20px;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .network-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .network-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* Input, Hidden1, Hidden2, Output layers */
            gap: 40px; /* Space between layers */
            background-color: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            margin: 20px auto;
        }

        .layer {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .layer-label {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .neuron {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: #e0e0e0;
            border: 2px solid #a0a0a0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            word-break: keep-all;
            text-align: center;
            padding: 5px;
        }

        .neuron.active {
            background-color: #007bff;
            color: white;
            border-color: #0056b3;
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .neuron:hover {
            transform: scale(1.08);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .input-image {
            width: 120px;
            height: 120px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .prediction-result {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            margin: 20px 0;
            background-color: #e3f2fd;
            color: #1976d2;
            border: 1px solid #bbdefb;
            display: none;
            width: 100%;
        }

        .prediction-result.show {
            display: block;
        }

        .reset-btn {
            padding: 10px 25px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: background-color 0.2s ease;
        }

        .reset-btn:hover {
            background-color: #5a6268;
        }

        .game-instructions {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid #eee;
            text-align: left;
        }

        .game-instructions h3 {
            margin-top: 0;
            color: #333;
            font-size: 1.2em;
        }

        .game-instructions ul {
            margin: 0;
            padding-left: 25px;
            list-style-type: disc;
        }

        .game-instructions li {
            margin: 8px 0;
            font-size: 0.95em;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .network-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }

            .layer {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .neuron {
                width: 60px;
                height: 60px;
                font-size: 0.8em;
            }

            .input-image {
                width: 100px;
                height: 100px;
                font-size: 2.5em;
            }
        }

        @media (max-width: 480px) {
            .neuron {
                width: 50px;
                height: 50px;
                font-size: 0.75em;
                padding: 3px;
            }

            .input-image {
                width: 80px;
                height: 80px;
                font-size: 2em;
            }

            .prediction-result {
                font-size: 1em;
                padding: 10px;
            }
        }

        .question-examples {
            max-width: 100%;
            margin: 30px auto 20px auto;
            box-sizing: border-box;
            background-color: #e3f2fd;
            border-left: 6px solid #1976d2;
            padding: 18px 20px;
            border-radius: 8px;
        }
        .question-examples h2 {
            font-size: 1.15em;
            margin-top: 0;
            color: #1976d2;
        }
        .question-examples ul {
            margin: 0;
            padding-left: 18px;
        }
        .question-examples li {
            margin-bottom: 12px;
            font-size: 1em;
            line-height: 1.6;
        }
        .question-examples strong {
            color: #0d47a1;
        }
        .show-answer-btn {
            margin-top: 8px;
            padding: 4px 14px;
            font-size: 0.95em;
            background-color: #1976d2;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .show-answer-btn:active {
            background-color: #0d47a1;
        }
        .hidden-answer {
            margin-left: 8px;
            color: #333;
        }
        .answer-bold {
            font-weight: bold;
        }
        .learning-goals {
            background-color: #f5f5f5;
            border-left: 6px solid #1976d2;
            padding: 18px 20px;
            margin: 30px 0 20px 0;
            border-radius: 8px;
        }
        .learning-goals h2 {
            font-size: 1.15em;
            margin-top: 0;
            color: #1976d2;
        }
        .learning-goals ul {
            margin: 0;
            padding-left: 18px;
        }
        .learning-goals li {
            margin-bottom: 12px;
            font-size: 1em;
            line-height: 1.6;
        }
        
        .video-container {
            max-width: 80%;
            margin: 0 auto 20px auto;
            text-align: center;
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .example-section {
            max-width: 100%;
            margin: 30px auto;
        }

        .learning-tip {
            max-width: 100%;
            margin: 30px auto 20px auto;
            box-sizing: border-box;
            background-color: #e3f2fd;
            border-left: 6px solid #1976d2;
            padding: 18px 20px;
            border-radius: 8px;
        }
        .home-button {
            position: absolute;
            top: 20px;
            right: 10%;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            z-index: 1000;
        }
        .home-button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <a href="ai_learning2.xhtml" class="home-button">í™ˆìœ¼ë¡œ</a>
    <h1>ë”¥ëŸ¬ë‹ ì²´í—˜í•˜ê¸°</h1>
    
    <section class="intro-section">
        <p class="intro-text">ì´ í˜ì´ì§€ì—ì„œëŠ” ë”¥ëŸ¬ë‹ì˜ ì›ë¦¬ë¥¼ ì‰½ê³  ì¬ë¯¸ìˆê²Œ ì•Œì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
        ì‚¬ëŒì˜ ë‡Œë¥¼ ë‹®ì€ ì‹ ê²½ë§ êµ¬ì¡°ë¥¼ í†µí•´, AIê°€ ì–´ë–»ê²Œ ë³µì¡í•œ ë¬¸ì œë¥¼ ìŠ¤ìŠ¤ë¡œ íŒë‹¨í•˜ê³  ì˜ˆì¸¡í•˜ëŠ”ì§€ ì´í•´í•´ë³´ì„¸ìš”!</p>
    </section>

    <div class="video-container">
        <video controls="controls">
            <source src="../Videos/deeplearning.mp4" type="video/mp4" />
            ì£„ì†¡í•©ë‹ˆë‹¤. ê·€í•˜ì˜ ë¸Œë¼ìš°ì €ëŠ” ë¹„ë””ì˜¤ íƒœê·¸ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </video>
    </div>

    <section class="example-section bordered-section">
        <h2>ì˜ˆì‹œ ì£¼ì œ: "ë”¥ëŸ¬ë‹ì€ ì–´ë–»ê²Œ ê°•ì•„ì§€ë¥¼ ì•Œì•„ë³¼ê¹Œ?"</h2>
        <div class="activity-concept">
            <h3>ğŸ§  í™œë™ ê°œë…</h3>
            <p>ë”¥ëŸ¬ë‹ì€ ì‚¬ëŒì˜ ë‡Œì²˜ëŸ¼ ìƒê°í•˜ëŠ” ì‹ ê²½ë§ êµ¬ì¡°ë¥¼ ë”°ë¼ ì •ë³´ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ë‹¨ê³„(ì¸µ)ë¥¼ ê±°ì¹˜ë©° ì ì  ë” ë³µì¡í•œ íŠ¹ì§•ì„ ì•Œì•„ë³´ê³ , ë§ˆì§€ë§‰ì—ëŠ” "ì´ê±´ ê°•ì•„ì§€ì•¼!"ë¼ê³  íŒë‹¨í•©ë‹ˆë‹¤.</p>
            
            <div style="text-align:center; margin:20px 0;">
                <img src="../Images/deeplearning.png" alt="ë”¥ëŸ¬ë‹ ì‹ ê²½ë§ ì˜ˆì‹œ" style="max-width:80%; height:auto; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.1);"/>
            </div>

            <h3>ğŸ§  ë”¥ëŸ¬ë‹ ì‹ ê²½ë§ êµ¬ì¡°ì™€ ê° ì¸µì˜ ì—­í• </h3>
            <table class="network-role-table" style="width:90%; border-collapse:collapse; margin:20px 0; text-align:left;">
                <thead>
                    <tr>
                        <th style="border:1px solid #ddd; padding:10px; background-color:#f2f2f2; text-align:center;">êµ¬ë¶„</th>
                        <th style="border:1px solid #ddd; padding:10px; background-color:#f2f2f2; text-align:center;">í•˜ëŠ” ì¼</th>
                        <th style="border:1px solid #ddd; padding:10px; background-color:#f2f2f2; text-align:center;">ì„¤ëª…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border:1px solid #ddd; padding:10px;">ì…ë ¥ì¸µ</td>
                        <td style="border:1px solid #ddd; padding:10px;">ì´ë¯¸ì§€ ì…ë ¥</td>
                        <td style="border:1px solid #ddd; padding:10px;">ì‚¬ìš©ìê°€ ì„ íƒí•œ ê°•ì•„ì§€ ì´ë¯¸ì§€ë¥¼ AIê°€ ì²˜ìŒ ë°›ì•„ë“¤ì´ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.</td>
                    </tr>
                    <tr>
                        <td style="border:1px solid #ddd; padding:10px;">ì€ë‹‰ì¸µ 1</td>
                        <td style="border:1px solid #ddd; padding:10px;">ê¸°ë³¸ íŠ¹ì§• ë¶„ì„ (í˜•íƒœ)</td>
                        <td style="border:1px solid #ddd; padding:10px;">ê·€, ëˆˆ, ë‹¤ë¦¬ ê°™ì€ ê²‰ëª¨ì–‘ì„ ì‚´í´ë³´ë©° "ë™ë¬¼ì²˜ëŸ¼ ìƒê²¼ëŠ”ì§€" ë¶„ì„í•´ìš”.</td>
                    </tr>
                    <tr>
                        <td style="border:1px solid #ddd; padding:10px;">ì€ë‹‰ì¸µ 2</td>
                        <td style="border:1px solid #ddd; padding:10px;">ì„¸ë¶€ íŠ¹ì§• íŒë‹¨ (íŒ¨í„´ í•™ìŠµ)</td>
                        <td style="border:1px solid #ddd; padding:10px;">ê·€ ëª¨ì–‘, ë°œë°”ë‹¥, ëˆˆ ìœ„ì¹˜ ë“± ê°•ì•„ì§€ì˜ íŠ¹ì§•ì„ í•™ìŠµí•´ êµ¬ë³„í•´ìš”.</td>
                    </tr>
                    <tr>
                        <td style="border:1px solid #ddd; padding:10px;">ì¶œë ¥ì¸µ</td>
                        <td style="border:1px solid #ddd; padding:10px;">ìµœì¢… íŒë‹¨ ì¶œë ¥</td>
                        <td style="border:1px solid #ddd; padding:10px;">"ì´ê±´ ê°•ì•„ì§€ì•¼!"ë¼ê³  ìµœì¢…ì ìœ¼ë¡œ íŒë‹¨í•´ì„œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤˜ìš”.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="learning-experience">
        <div class="learning-type deep-learning">
            <h2>ğŸŸ¦ ë”¥ëŸ¬ë‹ (ë‡Œë¥¼ ë‹®ì€ AI!)</h2>
            <p class="type-description">ë”¥ëŸ¬ë‹ì€ ì‚¬ëŒì˜ ë‡Œë¥¼ ë³¸ë–  ë§Œë“  ì¸ê³µì‹ ê²½ë§ì„ ì—¬ëŸ¬ ì¸µìœ¼ë¡œ ìŒ“ì•„ 
            ë³µì¡í•œ íŒ¨í„´ì„ í•™ìŠµí•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë§ˆì¹˜ ìš°ë¦¬ê°€ ê²½í—˜ì„ í†µí•´ ë°°ìš°ëŠ” ê²ƒì²˜ëŸ¼, AIë„ ë°ì´í„°ë¥¼ í†µí•´ í•™ìŠµí•©ë‹ˆë‹¤.</p>

            <div class="activity-card">
                <h3>ğŸ§  ì‹ ê²½ë§ ì²´í—˜í•˜ê¸°</h3>
                <div class="activity-content">
                    <div class="activity-description">
                        <h4>ğŸ¯ ì„¤ëª…</h4>
                        <p>ê°„ë‹¨í•œ ì‹ ê²½ë§ì„ í†µí•´ ì´ë¯¸ì§€ ì¸ì‹ì˜ ì›ë¦¬ë¥¼ ì²´í—˜í•´ë³´ì„¸ìš”.</p>
                        
                        <div class="game-instructions">
                            <h3>í™œë™ ë°©ë²•</h3>
                            <ul>
                                <li>**ì…ë ¥ì¸µ (ê°€ì¥ ì™¼ìª½):** ë™ê·¸ë¼ë¯¸ë¥¼ í´ë¦­í•˜ì—¬ AIì—ê²Œ ê°•ì•„ì§€ì˜ 'íŠ¹ì§•'ì„ ì•Œë ¤ì£¼ì„¸ìš”. (ìƒ‰ê¹”ì´ íŒŒë€ìƒ‰ìœ¼ë¡œ ë³€í•´ìš”!)</li>
                                <li>**ì€ë‹‰ì¸µ 1, ì€ë‹‰ì¸µ 2 (ê°€ìš´ë°):** ì…ë ¥ëœ íŠ¹ì§•ì„ ë°”íƒ•ìœ¼ë¡œ AIê°€ ìƒê°í•˜ê³  ë¶„ì„í•˜ëŠ” ê³³ì´ì—ìš”. ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤.</li>
                                <li>**ì¶œë ¥ì¸µ (ê°€ì¥ ì˜¤ë¥¸ìª½):** AIê°€ ë¬´ì—‡ì´ë¼ê³  íŒë‹¨í–ˆëŠ”ì§€ ìµœì¢… ê²°ê³¼ë¥¼ ë³´ì—¬ì¤˜ìš”. (íŒŒë€ìƒ‰ìœ¼ë¡œ ë³€í•œ ë™ê·¸ë¼ë¯¸ë¥¼ í™•ì¸!)</li>
                                <li>**ì˜ˆì¸¡ ê²°ê³¼:** ì‹ ê²½ë§ ì•„ë˜ ë©”ì‹œì§€ë¥¼ í†µí•´ AIì˜ ìµœì¢… íŒë‹¨ì„ í™•ì¸í•´ë³´ì„¸ìš”.</li>
                                <li>**ë‹¤ì‹œ ì‹œì‘í•˜ê¸°:** ë‹¤ë¥¸ ì¡°í•©ìœ¼ë¡œ ì²´í—˜í•˜ê³  ì‹¶ìœ¼ë©´ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</li>
                            </ul>
                        </div>

                        <div class="neural-network-game">
                            <div class="network-container">
                                <div class="input-image" id="input-image">ğŸ–¼ï¸</div>
                                <div class="network-grid" id="network-grid">
                                    <!-- ì‹ ê²½ë§ì€ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                                </div>
                                <div id="prediction-result" class="prediction-result"></div>
                                <button id="reset-btn" class="reset-btn">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="question-examples">
            <h2>ğŸ¯ ìƒê°í•´ë³¼ê¹Œìš”?</h2>
            <ul>
                <li>
                    <strong>"ì—¬ëŸ¬ë¶„, ë‰´ëŸ°ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ ê²°ê³¼ê°€ ì–´ë–»ê²Œ ë³€í•˜ë‚˜ìš”?"</strong><br />
                    <button id="show-answer-btn1" type="button" class="show-answer-btn">í´ë¦­í•´ë³´ì„¸ìš”</button>
                    <span id="hidden-answer1" class="hidden-answer answer-bold" style="display:none;">â†’ ë”¥ëŸ¬ë‹ë„ ê° ë‰´ëŸ°ì˜ í™œì„±í™” ì •ë„ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì ¸ìš”.</span>
                </li>
                <li>
                    <strong>"ì€ë‹‰ì¸µì˜ ë‰´ëŸ°ë“¤ì€ ì–´ë–¤ ì—­í• ì„ í•˜ë‚˜ìš”?"</strong><br />
                    <button id="show-answer-btn2" type="button" class="show-answer-btn">í´ë¦­í•´ë³´ì„¸ìš”</button>
                    <span id="hidden-answer2" class="hidden-answer answer-bold" style="display:none;">â†’ ë³µì¡í•œ íŒ¨í„´ì„ ì°¾ì•„ë‚´ê³  í•™ìŠµí•˜ëŠ” ì—­í• ì„ í•´ìš”.</span>
                </li>
                <li>
                    <strong>"ì™œ ì—¬ëŸ¬ ì¸µì˜ ë‰´ëŸ°ì´ í•„ìš”í•œê°€ìš”?"</strong><br />
                    <button id="show-answer-btn3" type="button" class="show-answer-btn">í´ë¦­í•´ë³´ì„¸ìš”</button>
                    <span id="hidden-answer3" class="hidden-answer answer-bold" style="display:none;">â†’ ë‹¨ìˆœí•œ íŠ¹ì§•ë¶€í„° ë³µì¡í•œ íŒ¨í„´ê¹Œì§€ ë‹¨ê³„ì ìœ¼ë¡œ í•™ìŠµí•˜ê¸° ìœ„í•´ì„œì˜ˆìš”.</span>
                </li>
            </ul>
        </div>

        <section class="learning-tip">
            <h2>ğŸ“Œ TIP</h2>
            <div class="tip-content">
                <p>"ë”¥ëŸ¬ë‹ì€ ìš°ë¦¬ ë‡Œì˜ í•™ìŠµ ë°©ì‹ì„ ë³¸ë–  ë§Œë“  AIì˜ í•™ìŠµ ë°©ë²•ì´ì—ìš”!"</p>
                <ul>
                    <li>ì—¬ëŸ¬ ì¸µì˜ ë‰´ëŸ°ì´ ì„œë¡œ ì—°ê²°ë˜ì–´ ë³µì¡í•œ íŒ¨í„´ì„ í•™ìŠµí•´ìš”.</li>
                    <li>ë§ì€ ë°ì´í„°ë¥¼ í†µí•´ ìŠ¤ìŠ¤ë¡œ í•™ìŠµí•˜ëŠ” ëŠ¥ë ¥ì„ ê°€ì ¸ìš”.</li>
                    <li>ì´ë¯¸ì§€ ì¸ì‹, ìŒì„± ì¸ì‹, ìì—°ì–´ ì²˜ë¦¬ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ í™œìš©ë¼ìš”.</li>
                </ul>
            </div>
        </section>
    </section>

    <div class="navigation-buttons" style="display:flex; justify-content:space-between;">
        <a href="ai_learning5.xhtml" style="display:inline-block; padding:12px 32px; background:#95a5a6; color:#fff; border-radius:6px; text-decoration:none; font-size:18px;"> &#8592;ì´ì „</a>
        <a href="ai_learning7.xhtml" style="display:inline-block; padding:12px 32px; background:#3498db; color:#fff; border-radius:6px; text-decoration:none; font-size:18px;">ë‹¤ìŒ &#8594;</a>
    </div>

    <script>
        //<![CDATA[
        document.addEventListener('DOMContentLoaded', function() {
            // ì„±ê³µ íš¨ê³¼ìŒ ì¶”ê°€
            const successSound = new Audio('../Audio/Sounds/perfect.wav');
            successSound.volume = 0.7;

            // ì‹ ê²½ë§ êµ¬ì¡° ì„¤ì •
            const networkConfig = {
                inputLayer: 4,    // ì…ë ¥ì¸µ ë‰´ëŸ° ìˆ˜
                hiddenLayer1: 3,  // ì²« ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ° ìˆ˜
                hiddenLayer2: 2,  // ë‘ ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ° ìˆ˜
                outputLayer: 2    // ì¶œë ¥ì¸µ ë‰´ëŸ° ìˆ˜
            };

            // ì‹ ê²½ë§ ìƒíƒœ
            let networkState = {
                inputNeurons: new Array(networkConfig.inputLayer).fill(false),
                hiddenNeurons1: new Array(networkConfig.hiddenLayer1).fill(false),
                hiddenNeurons2: new Array(networkConfig.hiddenLayer2).fill(false),
                outputNeurons: new Array(networkConfig.outputLayer).fill(false)
            };

            // ì‹ ê²½ë§ ê·¸ë¦¬ë“œ ìƒì„±
            function createNetworkGrid() {
                const grid = document.getElementById('network-grid');
                grid.innerHTML = '';

                // ì…ë ¥ì¸µ
                const inputLayer = document.createElement('div');
                inputLayer.className = 'layer';
                inputLayer.innerHTML = '<div class="layer-label">ì…ë ¥ì¸µ</div>';
                for (let i = 0; i < networkConfig.inputLayer; i++) {
                    const neuron = document.createElement('div');
                    neuron.className = 'neuron';
                    neuron.textContent = `íŠ¹ì§• ${i + 1}`;
                    neuron.dataset.layer = 'input';
                    neuron.dataset.index = i;
                    neuron.addEventListener('click', () => toggleNeuron('input', i));
                    inputLayer.appendChild(neuron);
                }
                grid.appendChild(inputLayer);

                // ì²« ë²ˆì§¸ ì€ë‹‰ì¸µ
                const hiddenLayer1 = document.createElement('div');
                hiddenLayer1.className = 'layer';
                hiddenLayer1.innerHTML = '<div class="layer-label">ì€ë‹‰ì¸µ 1</div>';
                for (let i = 0; i < networkConfig.hiddenLayer1; i++) {
                    const neuron = document.createElement('div');
                    neuron.className = 'neuron';
                    neuron.textContent = `ì€ë‹‰ 1-${i + 1}`;
                    neuron.dataset.layer = 'hidden1';
                    neuron.dataset.index = i;
                    hiddenLayer1.appendChild(neuron);
                }
                grid.appendChild(hiddenLayer1);

                // ë‘ ë²ˆì§¸ ì€ë‹‰ì¸µ
                const hiddenLayer2 = document.createElement('div');
                hiddenLayer2.className = 'layer';
                hiddenLayer2.innerHTML = '<div class="layer-label">ì€ë‹‰ì¸µ 2</div>';
                for (let i = 0; i < networkConfig.hiddenLayer2; i++) {
                    const neuron = document.createElement('div');
                    neuron.className = 'neuron';
                    neuron.textContent = `ì€ë‹‰ 2-${i + 1}`;
                    neuron.dataset.layer = 'hidden2';
                    neuron.dataset.index = i;
                    hiddenLayer2.appendChild(neuron);
                }
                grid.appendChild(hiddenLayer2);

                // ì¶œë ¥ì¸µ
                const outputLayer = document.createElement('div');
                outputLayer.className = 'layer';
                outputLayer.innerHTML = '<div class="layer-label">ì¶œë ¥ì¸µ</div>';
                for (let i = 0; i < networkConfig.outputLayer; i++) {
                    const neuron = document.createElement('div');
                    neuron.className = 'neuron';
                    neuron.textContent = i === 0 ? 'ê°•ì•„ì§€' : 'ê³ ì–‘ì´'; /* ì˜ˆì‹œ: ê°•ì•„ì§€ì™€ ê³ ì–‘ì´ ë¶„ë¥˜ */
                    neuron.dataset.layer = 'output';
                    neuron.dataset.index = i;
                    outputLayer.appendChild(neuron);
                }
                grid.appendChild(outputLayer);
            }

            // ë‰´ëŸ° ìƒíƒœ í† ê¸€
            function toggleNeuron(layer, index) {
                if (layer === 'input') {
                    networkState.inputNeurons[index] = !networkState.inputNeurons[index];
                    updateNetwork();
                }
            }

            // ì‹ ê²½ë§ ìƒíƒœ ì—…ë°ì´íŠ¸
            function updateNetwork() {
                // ì…ë ¥ì¸µ ë‰´ëŸ° ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.neuron[data-layer="input"]').forEach((neuron, index) => {
                    neuron.classList.toggle('active', networkState.inputNeurons[index]);
                });

                // ì²« ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ° ìƒíƒœ ê³„ì‚°
                networkState.hiddenNeurons1 = networkState.hiddenNeurons1.map((_, i) => {
                    // íŠ¹ì§•1-3, íŠ¹ì§•2-4, íŠ¹ì§•1-2 ì¡°í•©ì¼ ë•Œ ì²« ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ°ë“¤ í™œì„±í™”
                    if ((networkState.inputNeurons[0] && networkState.inputNeurons[2]) || 
                        (networkState.inputNeurons[1] && networkState.inputNeurons[3]) ||
                        (networkState.inputNeurons[0] && networkState.inputNeurons[1])) {
                        return true;
                    }
                    return false;
                });

                // ì²« ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ° ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.neuron[data-layer="hidden1"]').forEach((neuron, index) => {
                    neuron.classList.toggle('active', networkState.hiddenNeurons1[index]);
                });

                // ë‘ ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ° ìƒíƒœ ê³„ì‚°
                networkState.hiddenNeurons2 = networkState.hiddenNeurons2.map((_, i) => {
                    // íŠ¹ì§•1-3, íŠ¹ì§•2-4, íŠ¹ì§•1-2 ì¡°í•©ì¼ ë•Œ ë‘ ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ°ë“¤ í™œì„±í™”
                    if ((networkState.inputNeurons[0] && networkState.inputNeurons[2]) || 
                        (networkState.inputNeurons[1] && networkState.inputNeurons[3]) ||
                        (networkState.inputNeurons[0] && networkState.inputNeurons[1])) {
                        return true;
                    }
                    return false;
                });

                // ë‘ ë²ˆì§¸ ì€ë‹‰ì¸µ ë‰´ëŸ° ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.neuron[data-layer="hidden2"]').forEach((neuron, index) => {
                    neuron.classList.toggle('active', networkState.hiddenNeurons2[index]);
                });

                // ì¶œë ¥ì¸µ ë‰´ëŸ° ìƒíƒœ ê³„ì‚°
                networkState.outputNeurons = networkState.outputNeurons.map((_, i) => {
                    if (i === 0) { // 'ê°•ì•„ì§€' ì¶œë ¥ ë‰´ëŸ°
                        return networkState.inputNeurons[0] && networkState.inputNeurons[2];
                    } else { // 'ê³ ì–‘ì´' ì¶œë ¥ ë‰´ëŸ°
                        return networkState.inputNeurons[1] && networkState.inputNeurons[3];
                    }
                });

                // ì¶œë ¥ì¸µ ë‰´ëŸ° ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.neuron[data-layer="output"]').forEach((neuron, index) => {
                    neuron.classList.toggle('active', networkState.outputNeurons[index]);
                });

                // ì˜ˆì¸¡ ê²°ê³¼ í‘œì‹œ
                updatePrediction();
                updateInputImage();
            }

            // ì…ë ¥ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
            function updateInputImage() {
                const inputImageElement = document.getElementById('input-image');
                
                if (networkState.inputNeurons[0] && networkState.inputNeurons[2]) {
                    inputImageElement.innerHTML = '<img src="../Images/dog.jpg" alt="ê°•ì•„ì§€" style="max-width:100%; height:auto; display:block; margin:auto;" />';
                } else if (networkState.inputNeurons[1] && networkState.inputNeurons[3]) {
                    inputImageElement.innerHTML = '<img src="../Images/cat.jpg" alt="ê³ ì–‘ì´" style="max-width:100%; height:auto; display:block; margin:auto;" />';
                } else {
                    inputImageElement.innerHTML = 'ğŸ–¼ï¸';
                }
            }

            // ì˜ˆì¸¡ ê²°ê³¼ ì—…ë°ì´íŠ¸
            function updatePrediction() {
                const predictionResult = document.getElementById('prediction-result');
                const activeOutputNeurons = networkState.outputNeurons.filter(neuron => neuron).length;
                
                if (networkState.outputNeurons[0]) { // ê°•ì•„ì§€ íŒë‹¨
                    predictionResult.textContent = `AIê°€ "ê°•ì•„ì§€"ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤! (í™œì„±í™”ëœ ë‰´ëŸ°: ${activeOutputNeurons}ê°œ)`;
                    predictionResult.className = 'prediction-result show';
                    // ì„±ê³µ íš¨ê³¼ìŒ ì¬ìƒ
                    successSound.currentTime = 0;
                    successSound.play().catch(error => console.error('Sound playback failed:', error));
                } else if (networkState.outputNeurons[1]) { // ê³ ì–‘ì´ íŒë‹¨
                    predictionResult.textContent = `AIê°€ "ê³ ì–‘ì´"ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤! (í™œì„±í™”ëœ ë‰´ëŸ°: ${activeOutputNeurons}ê°œ)`;
                    predictionResult.className = 'prediction-result show';
                    // ì„±ê³µ íš¨ê³¼ìŒ ì¬ìƒ
                    successSound.currentTime = 0;
                    successSound.play().catch(error => console.error('Sound playback failed:', error));
                } else {
                    predictionResult.textContent = "AIê°€ ì•„ì§ íŒë‹¨í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                    predictionResult.className = 'prediction-result show';
                }
            }

            // ê²Œì„ ì´ˆê¸°í™”
            function resetGame() {
                networkState = {
                    inputNeurons: new Array(networkConfig.inputLayer).fill(false),
                    hiddenNeurons1: new Array(networkConfig.hiddenLayer1).fill(false),
                    hiddenNeurons2: new Array(networkConfig.hiddenLayer2).fill(false),
                    outputNeurons: new Array(networkConfig.outputLayer).fill(false)
                };
                document.querySelectorAll('.neuron').forEach(neuron => {
                    neuron.classList.remove('active');
                });
                document.getElementById('prediction-result').classList.remove('show');
                updateInputImage(); // ì´ë¯¸ì§€ë„ ì´ˆê¸°í™”
            }

            // ë¦¬ì…‹ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('reset-btn').addEventListener('click', resetGame);

            // ì‹ ê²½ë§ ì´ˆê¸°í™”
            createNetworkGrid();
            updateInputImage(); // ì´ˆê¸° ë¡œë“œ ì‹œ ì´ë¯¸ì§€ ì„¤ì •

            // ë‹µë³€ ë³´ê¸° ë²„íŠ¼ ê¸°ëŠ¥
            for (var i = 1; i <= 3; i++) {
                var showBtn = document.getElementById('show-answer-btn' + i);
                var answer = document.getElementById('hidden-answer' + i);
                if (showBtn && answer) {
                    showBtn.addEventListener('click', (function(btn, ans) {
                        return function() {
                            btn.style.display = 'none';
                            ans.style.display = 'inline';
                        };
                    })(showBtn, answer));
                }
            }
        });
        //]]>
    </script>
</body>
</html> 